package model
CREATE TABLE `ne_rule_engine` (
`nid` bigint NOT NULL AUTO_INCREMENT COMMENT '规则引擎ID',
`rule_name` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL COMMENT '规则引擎名称',
`rule_device_id` bigint DEFAULT NULL COMMENT '应用设备ID',
`json_validate_rules` text CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci COMMENT '规则应用条件(JSON数据)',
`action_edge_id` bigint DEFAULT NULL COMMENT '规则响应网关ID',
`action_device_id` bigint DEFAULT NULL COMMENT '规则响应设备ID',
`action_command_name` varchar(100) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '规则响应命令',
`action_command_params` varchar(2000) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '规则响应发送参数',
`create_time` datetime DEFAULT NULL COMMENT '规则创建时间',
`create_by` bigint DEFAULT NULL COMMENT '规则创建者',
`agw_id` bigint DEFAULT NULL COMMENT '所属网关ID',
`tenant_id` bigint DEFAULT NULL COMMENT '租户ID',
`issused` tinyint(1) DEFAULT '0' COMMENT '是否已经下发：0-是，1-否',
`issue_time` datetime DEFAULT NULL COMMENT '下发时间',
`trigger_rule_type` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '触发规则类型 \r\nA---参数阈值\r\nB---表达式区间判断\r\nC---SPC准则判异',
`factor` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '区间系数，只有表达式区间的才有值',
`threshold` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '阈值，只有当规则类型是区间的时候展示区间，其余的是一个数字',
`operator` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '运算符',
`logical_operator` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '逻辑运算符',
`action_type` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '动作类型  E--指令下发 F--状态变更  G--消息通知',
`action_operator` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '响应运算符',
`action_value` char(1) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '响应状态  在线1  离线0',
`send_value` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '发送数据值',
`template_id` varchar(255) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci DEFAULT NULL COMMENT '模板id',
PRIMARY KEY (`nid`) USING BTREE,
UNIQUE KEY `uk_rule_name` (`rule_name`,`agw_id`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=51 DEFAULT CHARSET=utf8mb3 ROW_FORMAT=DYNAMIC COMMENT='规则引擎'